<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rotational Speed Converter</title>
  <style>
    :root {
      --bg: #070816;
      --panel: #0b0f29;
      --text: #f4f6fb;
      --muted: #9aa4bf;
      --accent: #60a5fa; /* blue */
      --accent-2: #38bdf8; /* sky */
      --accent-weak: #1e3a8a; /* dark blue */
      --border: #151a38;
    }
    html, body {
      height: 100%;
    }
    body {
      margin: 0;
      background:
        radial-gradient(60vw 60vh at 15% 10%, rgba(56,189,248,0.10), transparent 60%),
        radial-gradient(50vw 50vh at 85% 0%, rgba(96,165,250,0.12), transparent 60%),
        linear-gradient(180deg, #0a0d22, var(--bg));
      color: var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      display: block;
      padding: 0;
      box-sizing: border-box;
      background-size: 120% 120%, 120% 120%, 100% 100%;
      animation: floatBg 16s ease-in-out infinite;
    }
    @keyframes floatBg {
      0% { background-position: 0% 0%, 100% 0%, 0% 0%; }
      50% { background-position: 20% 10%, 80% 5%, 0% 0%; }
      100% { background-position: 0% 0%, 100% 0%, 0% 0%; }
    }
    .card {
      width: 100%;
      max-width: 680px;
      margin: 24px auto;
      background: radial-gradient(1000px 260px at 0% 0%, rgba(56,189,248,0.10), transparent 60%),
                  radial-gradient(700px 260px at 100% 0%, rgba(96,165,250,0.12), transparent 60%),
                  linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00) 20%),
                  var(--panel);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.35), 0 0 0 1px rgba(56,189,248,0.04) inset, inset 0 1px 0 rgba(255,255,255,0.04);
    }
    .header {
      width: 100%;
      background: #141f66;
      border-bottom: 1px solid rgba(255,255,255,0.06);
      box-shadow: 0 2px 12px rgba(0,0,0,0.35);
      position: sticky;
      top: 0;
      z-index: 10;
    }
    .header .inner {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 16px;
      gap: 12px;
    }
    .brand { display: flex; align-items: center; gap: 12px; }
    .header .logo { height: 34px; width: 34px; border-radius: 8px; background: rgba(0,0,0,0.25); border: 1px solid rgba(255,255,255,0.08); padding: 3px; }
    .header .title { font-weight: 800; letter-spacing: 0.3px; font-size: 18px; }
    .header .subtitle { font-size: 12px; color: #c8d3ff; margin-top: 2px; }
    .byline { color: #c8d3ff; font-size: 12px; text-decoration: none; opacity: 0.9; }
    .byline:hover { text-decoration: underline; }
    .main {
      min-height: calc(100vh - 60px);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }
    h1 {
      margin: 0 0 8px 0;
      font-size: 22px;
      letter-spacing: 0.2px;
    }
    .sub {
      margin: 0 0 20px 0;
      color: var(--muted);
      font-size: 13px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
    }
    .field {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    label {
      font-size: 12px;
      color: var(--muted);
    }
    input[type="number"], select, input[readonly] {
      background: #0b1029;
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 10px 12px;
      outline: none;
      font-size: 14px;
      transition: border-color 0.15s ease, box-shadow 0.15s ease;
    }
    input[type="number"]:focus, select:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(96,165,250,0.25), 0 0 0 1px rgba(56,189,248,0.28) inset;
    }
    .row {
      display: contents;
    }
    .col-span-8 { grid-column: span 8 / span 8; }
    .col-span-4 { grid-column: span 4 / span 4; }
    .col-span-6 { grid-column: span 6 / span 6; }
    .col-span-12 { grid-column: span 12 / span 12; }
    @media (max-width: 640px) {
      .col-span-8, .col-span-6, .col-span-4, .col-span-12 { grid-column: 1 / -1; }
    }
    .hint {
      font-size: 12px;
      color: var(--muted);
    }
    .switch {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: linear-gradient(180deg, rgba(56,189,248,0.08), rgba(96,165,250,0.08));
      border: 1px solid rgba(96,165,250,0.28);
      border-radius: 999px;
      padding: 8px 10px;
      user-select: none;
    }
    .switch input { display: none; }
    .pill {
      display: inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      cursor: pointer;
      color: var(--muted);
      background: transparent;
      border: 1px solid transparent;
    }
    .pill.active {
      color: var(--text);
      background: linear-gradient(135deg, rgba(96,165,250,0.32), rgba(56,189,248,0.28));
      border-color: rgba(96,165,250,0.45);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.10);
    }
    .outputs {
      margin-top: 8px;
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
    }
    .help {
      margin-top: 10px;
      font-size: 12px;
      color: var(--muted);
    }
    .footer {
      margin-top: 18px;
      font-size: 12px;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .kbd {
      background: #0b1029;
      border: 1px solid var(--border);
      padding: 2px 6px;
      border-radius: 6px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      color: var(--text);
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="inner">
      <div class="brand">
        <img class="logo" src="https://stratusauto.com/wp-content/uploads/2022/11/milestone-1.jpg" alt="Stratus Automation logo" />
        <div>
          <div class="title">Stratus Automation</div>
          <div class="subtitle">Rotational Speed Converter</div>
        </div>
      </div>
      <a class="byline" href="#" aria-label="Page by Amin">Page by Amin</a>
    </div>
  </header>
  <main class="main">
  <div class="card">
    

    <div class="grid">
      <div class="row">
        <div class="field col-span-8">
          <label for="value">Input value</label>
          <input id="value" type="number" step="any" placeholder="e.g., 120" />
        </div>
        <div class="field col-span-4">
          <label for="unit">Unit</label>
          <select id="unit">
            <option value="deg_s">deg/s</option>
            <option value="rev_s">rev/s</option>
            <option value="rpm">rpm</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div class="field col-span-6">
          <label for="gear">Gear ratio</label>
          <input id="gear" type="number" step="any" min="0" placeholder="e.g., 2" />
          <div class="hint">Must be positive. With "Output speed" selected, 2 means output is half motor speed.</div>
        </div>
        <div class="field col-span-6">
          <label>Output speed or motor speed</label>
          <div class="switch" role="group" aria-label="Gear ratio mode">
            <button id="modeOutIn" class="pill active" type="button" aria-pressed="true">Output speed</button>
            <button id="modeInOut" class="pill" type="button" aria-pressed="false">Motor speed</button>
          </div>
          <div class="help" id="modeHelp">Output speed = Motor speed / Ratio</div>
        </div>
      </div>
    </div>

    <div class="outputs">
      <div class="field col-span-4">
        <label for="out_deg_s">deg/s</label>
        <input id="out_deg_s" type="text" readonly />
      </div>
      <div class="field col-span-4">
        <label for="out_rev_s">rev/s</label>
        <input id="out_rev_s" type="text" readonly />
      </div>
      <div class="field col-span-4">
        <label for="out_rpm">rpm</label>
        <input id="out_rpm" type="text" readonly />
      </div>
    </div>

    <div class="footer">
      <span>Tip: Use <span class="kbd">Tab</span> to jump between fields.</span>
      <span id="status"></span>
    </div>
  </div>
  </main>

  <script>
    (function () {
      const inputValue = document.getElementById('value');
      const inputUnit = document.getElementById('unit');
      const inputGear = document.getElementById('gear');
      const outDegS = document.getElementById('out_deg_s');
      const outRevS = document.getElementById('out_rev_s');
      const outRpm = document.getElementById('out_rpm');
      const modeOutIn = document.getElementById('modeOutIn');
      const modeInOut = document.getElementById('modeInOut');
      const modeHelp = document.getElementById('modeHelp');
      const status = document.getElementById('status');

      /**
       * Convert arbitrary unit to rev/s.
       */
      function toRevPerSec(value, unit) {
        if (!isFinite(value)) return NaN;
        switch (unit) {
          case 'deg_s':
            return value / 360;
          case 'rev_s':
            return value;
          case 'rpm':
            return value / 60;
          default:
            return NaN;
        }
      }

      /**
       * From rev/s to all other units.
       */
      function fromRevPerSec(revPerSec) {
        if (!isFinite(revPerSec)) return { deg_s: '', rev_s: '', rpm: '' };
        return {
          deg_s: revPerSec * 360,
          rev_s: revPerSec,
          rpm: revPerSec * 60
        };
      }

      function formatNumber(n) {
        if (!isFinite(n)) return '';
        const abs = Math.abs(n);
        const useSci = (abs !== 0 && (abs < 1e-3 || abs >= 1e6));
        return useSci ? n.toExponential(6) : n.toLocaleString(undefined, { maximumFractionDigits: 6 });
      }

      let mode = 'out_in'; // 'out_in' => output = input / ratio, 'in_out' => output = input * ratio

      function setMode(newMode) {
        mode = newMode;
        const outInActive = mode === 'out_in';
        modeOutIn.classList.toggle('active', outInActive);
        modeInOut.classList.toggle('active', !outInActive);
        modeOutIn.setAttribute('aria-pressed', String(outInActive));
        modeInOut.setAttribute('aria-pressed', String(!outInActive));
        modeHelp.textContent = outInActive ? 'Output speed = Motor speed / Ratio' : 'Motor speed (gear ratio ignored)';
        update();
      }

      modeOutIn.addEventListener('click', () => setMode('out_in'));
      modeInOut.addEventListener('click', () => setMode('in_out'));

      function update() {
        const value = parseFloat(inputValue.value);
        const unit = inputUnit.value;
        const ratio = parseFloat(inputGear.value);

        const valueOk = isFinite(value);
        const ratioOk = isFinite(ratio) && ratio > 0;

        if (!valueOk) {
          status.textContent = '';
          outDegS.value = '';
          outRevS.value = '';
          outRpm.value = '';
          return;
        }

        const inRevS = toRevPerSec(value, unit);
        let outRevSVal = inRevS;

        if (mode === 'out_in') {
          if (ratioOk) {
            outRevSVal = inRevS / ratio;
            status.textContent = '';
          } else if (inputGear.value.trim() !== '') {
            status.textContent = 'Enter a positive gear ratio';
          } else {
            status.textContent = '';
          }
        } else {
          // Motor speed mode: ignore ratio entirely
          outRevSVal = inRevS;
          status.textContent = '';
        }

        const converted = fromRevPerSec(outRevSVal);
        outDegS.value = formatNumber(converted.deg_s);
        outRevS.value = formatNumber(converted.rev_s);
        outRpm.value = formatNumber(converted.rpm);
      }

      inputValue.addEventListener('input', update);
      inputUnit.addEventListener('change', update);
      inputGear.addEventListener('input', update);

      // Defaults for a quick demo
      inputValue.value = '120';
      inputUnit.value = 'rpm';
      inputGear.value = '';
      update();
    })();
  </script>
</body>
</html>


